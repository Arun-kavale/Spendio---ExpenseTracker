/**
 * Encodes Spendio logo as base64 for PDF reports.
 * Run: node scripts/encode-pdf-logo.js
 * (Run after changing the logo at src/assets/logo/SpendioLogo.png)
 */

const fs = require('fs');
const path = require('path');

const projectRoot = path.resolve(__dirname, '..');
const logoPath = path.join(projectRoot, 'src', 'assets', 'logo', 'SpendioLogo.png');
const outPath = path.join(projectRoot, 'src', 'services', 'reports', 'pdfLogoBase64.ts');

if (!fs.existsSync(logoPath)) {
  console.error('Logo not found at', logoPath);
  process.exit(1);
}

const buffer = fs.readFileSync(logoPath);
const base64 = buffer.toString('base64');
const dataUrl = `data:image/png;base64,${base64}`;

const content = `/**
 * Spendio logo as base64 data URL for PDF reports.
 * Generated by scripts/encode-pdf-logo.js - do not edit by hand.
 */

export const PDF_LOGO_DATA_URL: string = '${dataUrl}';\n`;

fs.writeFileSync(outPath, content, 'utf8');
console.log('Written', outPath);
